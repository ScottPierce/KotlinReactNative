"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeConfig = exports.withPolyfills = void 0;

var _core = require("@haul-bundler/core");

var _defaultConfig = _interopRequireDefault(require("./defaultConfig"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function resolvePolyfill(name) {
  const filename = `react-native/Libraries/polyfills/${name}.js`;
  const searchPaths = [...module.paths, process.cwd()];

  try {
    return require.resolve(filename, {
      paths: searchPaths
    });
  } catch (e) {
    throw new Error(`Cannot resolve '${filename}' in [${searchPaths.join(', ')}]'. Please make sure you have 'react-native' installed.`);
  }
}

const polyfills = [resolvePolyfill('console'), resolvePolyfill('error-guard'), resolvePolyfill('Object.es7')];
const withPolyfills = (0, _core.withPolyfillsFactory)(polyfills);
exports.withPolyfills = withPolyfills;
const makeConfig = (0, _core.makeConfigFactory)(_defaultConfig.default);
exports.makeConfig = makeConfig;
//# sourceMappingURL=index.js.map