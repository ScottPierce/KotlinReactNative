{"version":3,"sources":["../src/index.ts"],"names":["resolvePolyfill","name","filename","searchPaths","module","paths","process","cwd","require","resolve","e","Error","join","polyfills","withPolyfills","makeConfig","getDefaultConfig"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,SAASA,eAAT,CAAyBC,IAAzB,EAAuC;AACrC,QAAMC,QAAQ,GAAI,oCAAmCD,IAAK,KAA1D;AACA,QAAME,WAAW,GAAG,CAAC,GAAGC,MAAM,CAACC,KAAX,EAAkBC,OAAO,CAACC,GAAR,EAAlB,CAApB;;AACA,MAAI;AACF,WAAOC,OAAO,CAACC,OAAR,CAAgBP,QAAhB,EAA0B;AAAEG,MAAAA,KAAK,EAAEF;AAAT,KAA1B,CAAP;AACD,GAFD,CAEE,OAAOO,CAAP,EAAU;AACV,UAAM,IAAIC,KAAJ,CACH,mBAAkBT,QAAS,SAAQC,WAAW,CAACS,IAAZ,CAClC,IADkC,CAElC,yDAHE,CAAN;AAKD;AACF;;AAED,MAAMC,SAAS,GAAG,CAChBb,eAAe,CAAC,SAAD,CADC,EAEhBA,eAAe,CAAC,aAAD,CAFC,EAGhBA,eAAe,CAAC,YAAD,CAHC,CAAlB;AAMO,MAAMc,aAAa,GAAG,gCAAqBD,SAArB,CAAtB;;AACA,MAAME,UAAU,GAAG,6BAAkBC,sBAAlB,CAAnB","sourcesContent":["import { withPolyfillsFactory, makeConfigFactory } from '@haul-bundler/core';\nimport getDefaultConfig from './defaultConfig';\n\nfunction resolvePolyfill(name: string) {\n  const filename = `react-native/Libraries/polyfills/${name}.js`;\n  const searchPaths = [...module.paths, process.cwd()];\n  try {\n    return require.resolve(filename, { paths: searchPaths });\n  } catch (e) {\n    throw new Error(\n      `Cannot resolve '${filename}' in [${searchPaths.join(\n        ', '\n      )}]'. Please make sure you have 'react-native' installed.`\n    );\n  }\n}\n\nconst polyfills = [\n  resolvePolyfill('console'),\n  resolvePolyfill('error-guard'),\n  resolvePolyfill('Object.es7'),\n];\n\nexport const withPolyfills = withPolyfillsFactory(polyfills);\nexport const makeConfig = makeConfigFactory(getDefaultConfig);\n"],"file":"index.js"}