"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

const format = err => ({ ...err,
  name: err instanceof SyntaxError ? 'SyntaxError' : '',
  message: err.message.replace(/^[^:]+: /, ''),
  hideStack: true
});

class LoaderError extends Error {
  constructor(err) {
    super();
    const {
      name,
      message,
      codeFrame,
      hideStack
    } = format(err);
    this.name = 'BabelLoaderError';
    this.message = `${name ? `${name}: ` : ''}${message}\n\n${codeFrame}\n`; // @ts-ignore Property 'hideStack' does not exist on type 'LoaderError'.
    // Redeclaring hideStack could break the scope.

    this.hideStack = hideStack;
    Error.captureStackTrace(this, this.constructor);
  }

}

exports.default = LoaderError;
//# sourceMappingURL=error.js.map