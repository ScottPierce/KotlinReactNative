"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

class NonInteractiveUserInterface {
  constructor(runtime) {
    this.runtime = runtime;
  }

  updateCompilationProgress(platform, {
    running,
    value
  }) {
    if (running) {
      const percent = `${Math.floor(Math.min(1, value) * 100)}%`;
      this.runtime.logger.info(`[${platform.toUpperCase()}] Compilation - running (${percent})`);
    } else {
      this.runtime.logger.info(`[${platform.toUpperCase()}] Compilation - idle`);
    }
  }

  addLogItem(item) {
    // `item` should be already enhanced with ANSI escape codes
    this.runtime.logger.print('print', item);
  }

  dispose(exitCode = 0, exit = true) {
    if (exit) {
      process.exit(exitCode);
    }
  }

  start(platforms) {
    this.runtime.logger.done('Running in non-interactive mode');
    this.runtime.logger.info(`Available platforms: ${platforms.join(', ')}`);
  }

}

exports.default = NonInteractiveUserInterface;
//# sourceMappingURL=NonInteractiveUI.js.map