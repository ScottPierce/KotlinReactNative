"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getNormalizedProjectConfigBuilder;

var _importModule = _interopRequireDefault(require("../utils/importModule"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getNormalizedProjectConfigBuilder(runtime, configPath) {
  let config;
  /**
   * When it doesn't have DEFAULT_CONFIG_FILENAME and it's not specified another file
   * we will use default configuration based on main file from package.json
   */

  if (!configPath) {
    throw new Error("Couldn't find `haul.config.js`");
  } else {
    config = (0, _importModule.default)(configPath, {
      resolve: require.resolve,
      runtime
    }).exports;
    config = config.__esModule ? config.default : config;
  }

  if (typeof config !== 'function') {
    throw new Error(`Exported value from ${configPath} does not seem to be a valid Haul config - did you forget to use "makeConfig"?`);
  }

  return config;
}
//# sourceMappingURL=getNormalizedProjectConfigBuilder.js.map